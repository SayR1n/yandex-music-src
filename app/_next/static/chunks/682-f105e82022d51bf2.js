"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[682],{48301:(t,e,a)=>{a.d(e,{rJ:()=>F.ArtistAlbumsPage,GH:()=>B.ArtistClipsPage,cC:()=>J.ArtistConcertsPage,Sd:()=>M.ArtistFamiliarPage,ZQ:()=>V.ArtistPage,E:()=>w,Wy:()=>j.ArtistSimilarPage,fD:()=>q.ArtistTracksPage}),a(69473),a(92538),a(34557),a(8538),a(43528),a(1022),a(99325),a(76764),a(35449);var r,i=a(41028),l=a(61979),s=a(93435),o=a(85897),n=a(61299),u=a(52732),d=a(90317),g=a(64641),c=a(45242),m=a(44078),S=a(70879),p=a(51551),N=a(94767),E=a(59615);!function(t){t.DEFAULT="default",t.DONATION="donation",t.REWIND="year-rewind"}(r||(r={}));let v=/^https:\/\/tips\.yandex\.ru\//,y=t=>v.test(null!=t?t:""),b=t=>{let{available:e,disclaimers:a}=(0,N.fyr)(t);return(0,i.wg)({clipId:t.clipId,title:t.title,thumbnail:t.thumbnail,previewUrl:t.previewUrl,duration:t.duration,version:t.version,artists:(t.artists||[]).map(t=>(0,S.as)({artist:t})),isAvailable:e,disclaimers:a})};var X=a(13023),I=a(24284);let T=i.gK.compose(i.gK.model("ArtistAlbumsPage",{pager:i.gK.maybeNull(E.jd),variant:i.gK.maybeNull(i.gK.enumeration(Object.values(I.h))),alreadyRequestedPages:i.gK.map(i.gK.number),pendingPages:i.gK.map(i.gK.number),requests:i.gK.maybeNull(i.gK.number),errorStatusCode:i.gK.maybeNull(i.gK.number),items:i.gK.array(i.gK.maybeNull(u.JC))}),E.pl,E.XT).views(t=>({get isNotFound(){var e;let a=t.isResolved&&(null==(e=t.pager)?void 0:e.total)===0,r=t.errorStatusCode===l.X1.NOT_FOUND||t.errorStatusCode===l.X1.BAD_REQUEST;return t.isRejected&&r||a}})).actions(t=>({setVariant:e=>{t.variant=e},getData:(0,i.L3)(function*(e){let{artistId:a,page:r=0,pageSize:s=20,sort:o,preloadedAlbums:n}=e,{artistsResource:d,modelActionsLogger:g}=(0,i._$)(t);if(!(t.isLoading&&t.pendingPages.has("".concat(r)))&&!t.alreadyRequestedPages.has("".concat(r))){"number"==typeof r&&t.alreadyRequestedPages.set("".concat(r),r);try{var c;t.loadingState=N.GuX.PENDING,t.pendingPages.set("".concat(r),r);let e={artistId:a,page:r,pageSize:s,sort:{sortBy:null==o?void 0:o.sortBy}},l=n;if(!l)switch(t.variant){case I.h.COMPILATIONS:l=yield d.getAlsoAlbums(e);break;case I.h.DISCOGRAPHY:l=yield d.getDiscographyAlbums(e);break;default:l=yield d.getDirectAlbums(e)}let g={page:r,perPage:s,total:l.pager.total};0===t.items.length&&(t.items=(0,i.wg)(Array.from({length:g.total},()=>null)));let m=l.albums.map(u.pp);(0,N.Iyy)({items:t.items,mappedRawItems:m,page:r,pageSize:s}),t.pager=g,t.requests=(null!=(c=t.requests)?c:0)+1,t.loadingState=N.GuX.RESOLVE}catch(e){g.error(e),e instanceof l.GX&&(e.statusCode===l.X1.NOT_FOUND||e.statusCode===l.X1.BAD_REQUEST)&&(t.errorStatusCode=l.X1.NOT_FOUND),t.loadingState!==N.GuX.IDLE&&(t.loadingState=N.GuX.REJECT)}finally{t.pendingPages.delete("".concat(r))}}}),reset(){t.loadingState=N.GuX.IDLE,t.pendingPages.clear(),t.variant=null,t.alreadyRequestedPages.clear(),t.errorStatusCode=null,t.destroyItems([t.pager,t.items])}})),C=i.gK.compose(i.gK.model("ArtistClipsPage",{pager:i.gK.maybeNull(E.jd),alreadyRequestedPages:i.gK.map(i.gK.number),pendingPages:i.gK.map(i.gK.number),requests:i.gK.maybeNull(i.gK.number),errorStatusCode:i.gK.maybeNull(i.gK.number),items:i.gK.array(i.gK.maybeNull(g.kv))}),E.pl,E.XT).views(t=>({get isNotFound(){var e;let a=t.isResolved&&(null==(e=t.pager)?void 0:e.total)===0,r=t.errorStatusCode===l.X1.NOT_FOUND||t.errorStatusCode===l.X1.BAD_REQUEST;return t.isRejected&&r||a}})).actions(t=>({getData:(0,i.L3)(function*(e){let{artistId:a,page:r=0,pageSize:s=20,preloadedClips:o}=e,{artistsResource:n,modelActionsLogger:u}=(0,i._$)(t);if(!(t.isLoading&&t.pendingPages.has("".concat(r)))&&!t.alreadyRequestedPages.has("".concat(r))){"number"==typeof r&&t.alreadyRequestedPages.set("".concat(r),r);try{var d;t.loadingState=N.GuX.PENDING,t.pendingPages.set("".concat(r),r);let e=o;e||(e=yield n.getClips({artistId:a,page:r,pageSize:s}));let l={page:r,perPage:s,total:e.pager.total};0===t.items.length&&(t.items=(0,i.wg)(Array.from({length:l.total},()=>null)));let u=e.items.map(t=>(0,g.SZ)({clip:t.data.clip,artists:t.data.artists}));(0,N.Iyy)({items:t.items,mappedRawItems:u,page:r,pageSize:s}),t.pager=l,t.requests=(null!=(d=t.requests)?d:0)+1,t.loadingState=N.GuX.RESOLVE}catch(e){u.error(e),e instanceof l.GX&&(e.statusCode===l.X1.NOT_FOUND||e.statusCode===l.X1.BAD_REQUEST)&&(t.errorStatusCode=l.X1.NOT_FOUND),t.loadingState!==N.GuX.IDLE&&(t.loadingState=N.GuX.REJECT)}finally{t.pendingPages.delete("".concat(r))}}}),reset(){t.loadingState=N.GuX.IDLE,t.pendingPages.clear(),t.alreadyRequestedPages.clear(),t.errorStatusCode=null,t.destroyItems([t.pager,t.items])}})),G=i.gK.compose(i.gK.model("ArtistConcertsPage",{errorStatusCode:i.gK.maybeNull(i.gK.number),concerts:i.gK.maybeNull(i.gK.array(p.aR))}),E.pl,E.XT).views(t=>({get isLoading(){return t.isNeededToLoad||t.loadingState===N.GuX.PENDING},get isNotFound(){var e;let a=t.isResolved&&(null==(e=t.concerts)?void 0:e.length)===0,r=t.errorStatusCode===l.X1.NOT_FOUND||t.errorStatusCode===l.X1.BAD_REQUEST;return t.isRejected&&r||a}})).actions(t=>({getData:(0,i.L3)(function*(e){let{artistId:a,preloadedConcerts:r}=e,{artistsResource:s,modelActionsLogger:o}=(0,i._$)(t);if(t.loadingState!==N.GuX.PENDING)try{t.loadingState=N.GuX.PENDING;let e=null==r?void 0:r.concerts;e||(e=(yield s.getConcerts({artistId:a})).concerts),t.concerts=(0,i.wg)(e.map(p.oP)),t.loadingState=N.GuX.RESOLVE}catch(e){o.error(e),e instanceof l.GX&&(e.statusCode===l.X1.NOT_FOUND||e.statusCode===l.X1.BAD_REQUEST)&&(t.errorStatusCode=l.X1.NOT_FOUND),t.loadingState!==N.GuX.IDLE&&(t.loadingState=N.GuX.REJECT)}}),reset(){t.loadingState=N.GuX.IDLE,t.errorStatusCode=null,t.destroyItems([t.concerts])}})),D=t=>(0,i.wg)({...(0,u.sK)({album:t,artists:t.artists}),version:t.version}),K=i.gK.compose(i.gK.model("ArtistFamiliarPage",{errorStatusCode:i.gK.maybeNull(i.gK.number),vibeTracks:i.gK.maybeNull(i.gK.array(m.vj)),collectionTracks:i.gK.maybeNull(i.gK.array(m.vj)),collectionAlbums:i.gK.maybeNull(i.gK.array(u.JC))}),E.pl,E.XT).views(t=>{let e={get isLoading(){return t.isNeededToLoad||t.loadingState===N.GuX.PENDING},get isNotFound(){let e=t.errorStatusCode===l.X1.NOT_FOUND||t.errorStatusCode===l.X1.BAD_REQUEST;return t.isRejected&&e},get hasCollectionEntities(){var a,r;return t.isResolved&&Number(null==(a=t.collectionTracks)?void 0:a.length)>0||Number(null==(r=t.collectionAlbums)?void 0:r.length)>0},get shouldShowTitleBlocks(){var i,s;if(e.isLoading)return!0;return Number(null==(i=t.collectionTracks)?void 0:i.length)>0&&Number(null==(s=t.collectionAlbums)?void 0:s.length)>0},get hasVibeTracks(){var o;return Number(null==(o=t.vibeTracks)?void 0:o.length)>0},get collectionEntitiesData(){var n,u;return null!=(u=null==(n=t.collectionTracks)?void 0:n.map(m.$b))?u:[]},get vibeEntitiesData(){var d,g;return null!=(g=null==(d=t.vibeTracks)?void 0:d.map(m.$b))?g:[]}};return e}).actions(t=>({getData:(0,i.L3)(function*(e){let{artistId:a,preloadedFamiliar:r}=e,{artistsResource:s,modelActionsLogger:o}=(0,i._$)(t);if(t.loadingState!==N.GuX.PENDING)try{var n,u,d,g,c,S;t.loadingState=N.GuX.PENDING;let e=r;e||(e=yield s.getFamiliarYou({artistId:a,waveTracksLimit:100,collectionTracksLimit:100,collectionAlbumsLimit:20})),t.vibeTracks=(0,i.wg)(null==(u=e.wave)||null==(n=u.tracks)?void 0:n.map(t=>(0,m.vU)(t))),t.collectionTracks=(0,i.wg)(null==(g=e.collection)||null==(d=g.tracks)?void 0:d.map(t=>(0,m.vU)(t))),t.collectionAlbums=(0,i.wg)(null==(S=e.collection)||null==(c=S.albums)?void 0:c.map(D)),t.loadingState=N.GuX.RESOLVE}catch(e){o.error(e),e instanceof l.GX&&(e.statusCode===l.X1.NOT_FOUND||e.statusCode===l.X1.BAD_REQUEST)&&(t.errorStatusCode=l.X1.NOT_FOUND),t.loadingState!==N.GuX.IDLE&&(t.loadingState=N.GuX.REJECT)}}),reset(){t.loadingState=N.GuX.IDLE,t.errorStatusCode=null,t.destroyItems([t.vibeTracks,t.collectionTracks])}}));var f=a(25911);let L=i.gK.model("ArtistPick",{playlist:f.$o,artists:i.gK.array(S.PK)}),A=i.gK.compose(i.gK.model("ArtistSimilarArtistsPage",{errorStatusCode:i.gK.maybeNull(i.gK.number),similarArtists:i.gK.maybeNull(i.gK.array(S.PK))}),E.pl,E.XT).views(t=>({get isLoading(){return t.isNeededToLoad||t.loadingState===N.GuX.PENDING},get isNotFound(){var e;let a=t.isResolved&&(null==(e=t.similarArtists)?void 0:e.length)===0,r=t.errorStatusCode===l.X1.NOT_FOUND||t.errorStatusCode===l.X1.BAD_REQUEST;return t.isRejected&&r||a}})).actions(t=>({getData:(0,i.L3)(function*(e){let{artistId:a,preloadedSimilarArtists:r}=e,{artistsResource:s,modelActionsLogger:o}=(0,i._$)(t);try{t.loadingState=N.GuX.PENDING;let e=r;e||(e=yield s.getSimilarArtists({artistId:a})),t.similarArtists=(0,i.wg)(e.similarArtists.map(S.dM)),t.loadingState!==N.GuX.IDLE&&(t.loadingState=N.GuX.RESOLVE)}catch(e){o.error(e),e instanceof l.GX&&(e.statusCode===l.X1.NOT_FOUND||e.statusCode===l.X1.BAD_REQUEST)&&(t.errorStatusCode=l.X1.NOT_FOUND),t.loadingState!==N.GuX.IDLE&&(t.loadingState=N.GuX.REJECT)}}),reset(){t.loadingState=N.GuX.IDLE,t.errorStatusCode=null,t.destroyItems([t.similarArtists])}})),h=i.gK.model("CommonSubPage",{artistName:i.gK.maybeNull(i.gK.string)}),R=i.gK.compose(i.gK.model("FamiliarInfo",{vibeTrackCount:i.gK.optional(i.gK.number,0),collectionTrackCount:i.gK.optional(i.gK.number,0),collectionAlbumCount:i.gK.optional(i.gK.number,0)}),E.XT).views(t=>{let e={get hasTracks(){return t.isResolved&&(t.collectionTrackCount>0||t.vibeTrackCount>0)},get hasFamiliarInfo(){return t.isResolved&&(e.hasTracks||t.collectionAlbumCount>0)},get tracksCount(){return t.collectionTrackCount+t.vibeTrackCount},get hasCollectionEntities(){return t.isResolved&&(t.collectionTrackCount>0||t.collectionAlbumCount>0)},get hasVibeEntities(){return t.isResolved&&t.vibeTrackCount>0},href(t){if(!t)return"";if(e.hasCollectionEntities){let{href:e}=(0,N.uvd)("/artist/:artistId/familiar",{params:{artistId:t},query:{tab:N.JCK.COLLECTION}});return e}if(e.hasVibeEntities){let{href:e}=(0,N.uvd)("/artist/:artistId/familiar",{params:{artistId:t},query:{tab:N.JCK.VIBE}});return e}let{href:a}=(0,N.uvd)("/artist/:artistId/familiar",{params:{artistId:t}});return a}};return e}).actions(t=>({getData:(0,i.L3)(function*(e){let{artistId:a}=e,{artistsResource:r,modelActionsLogger:l}=(0,i._$)(t);if(t.loadingState!==N.GuX.PENDING)try{t.loadingState=N.GuX.PENDING;let e=yield r.getFamiliarYouInfo({artistId:a,withWaveInfo:!0,withCollectionInfo:!0});e.collection&&(t.collectionTrackCount=e.collection.trackCount,t.collectionAlbumCount=e.collection.albumCount),e.wave&&(t.vibeTrackCount=e.wave.trackCount),t.loadingState!==N.GuX.IDLE&&(t.loadingState=N.GuX.RESOLVE)}catch(e){l.error(e),t.loadingState!==N.GuX.IDLE&&(t.loadingState=N.GuX.REJECT)}}),reset(){t.loadingState=N.GuX.IDLE,t.vibeTrackCount=0,t.collectionTrackCount=0,t.collectionAlbumCount=0}}));var k=a(2865);let P=i.gK.compose(i.gK.model("FullTracksList",{errorStatusCode:i.gK.maybeNull(i.gK.number),ids:i.gK.maybeNull(i.gK.array(i.gK.string)),tracks:i.gK.optional(i.gK.map(m.vj),{})}),E.pl,E.XT).views(t=>({getTrackByIndex(e){if(!t.ids||!t.ids.length)return null;let a=t.ids[e];return a&&t.tracks.get(a)||null},get isNotFound(){var e;let a=t.isResolved&&(null==(e=t.ids)?void 0:e.length)===0,r=t.errorStatusCode===l.X1.NOT_FOUND||t.errorStatusCode===l.X1.BAD_REQUEST;return t.isRejected&&r||a}})).actions(t=>({getTracksIds:(0,i.L3)(function*(e){let{artistId:a}=e,{artistsResource:r,modelActionsLogger:s}=(0,i._$)(t);try{t.loadingState=N.GuX.PENDING;let e=yield r.getArtistTrackIds({artistId:a}),{sonataState:l}=(0,i.Zn)(t);l.setUnloadedEntitiesData(e.map(t=>(0,k.li)(t))),t.ids=(0,i.wg)(e),t.loadingState!==N.GuX.IDLE&&(t.loadingState=N.GuX.RESOLVE)}catch(e){s.error(e),e instanceof l.GX&&(e.statusCode===l.X1.NOT_FOUND||e.statusCode===l.X1.BAD_REQUEST)&&(t.errorStatusCode=l.X1.NOT_FOUND),t.loadingState!==N.GuX.IDLE&&(t.loadingState=N.GuX.REJECT)}}),getTracks:(0,i.L3)(function*(e){let{trackIds:a}=e,{tracksResource:r,modelActionsLogger:l}=(0,i._$)(t);try{let e=yield r.getTracksMeta({trackIds:a,withProgress:!0});t.tracks.merge(e.reduce((t,e)=>(t[e.id]=(0,m.vU)(e),t),{}))}catch(t){l.error(t)}}),reset(){let{sonataState:e}=(0,i.Zn)(t);e.resetUnloadedEntitiesData(),t.loadingState=N.GuX.IDLE,t.destroyItems([t.tracks,t.ids])}}));var O=a(47416);let U=i.gK.compose(i.gK.model("OfflineArtistTrackIds",{ids:i.gK.maybeNull(i.gK.array(i.gK.string))}),E.XT,E.pl).actions(t=>({getIds:(0,i.L3)(function*(e,a){let{modelActionsLogger:r}=(0,i._$)(t);if(t.loadingState!==N.GuX.PENDING)try{t.loadingState=N.GuX.PENDING;let r=yield a.getArtistTrackIdsByUser(e);t.ids=(0,i.wg)(r),t.loadingState!==N.GuX.IDLE&&(t.loadingState=N.GuX.RESOLVE)}catch(e){r.error(e),t.loadingState!==N.GuX.IDLE&&(t.loadingState=N.GuX.REJECT)}}),reset(){t.loadingState=N.GuX.IDLE,t.destroyItems([t.ids])}})),_=i.gK.compose(i.gK.model("OfflineArtist",{id:i.gK.maybeNull(i.gK.string),meta:i.gK.maybeNull(d.G4),trackIds:U,downloadedTracks:O.b}),E.XT,E.pl).views(t=>({get isNotFound(){return t.isResolved&&!t.meta}})).actions(t=>({setTracksCount:e=>{var a;(null==(a=t.meta)?void 0:a.artist.counts)&&(t.meta.artist.counts.tracks=e)},getArtist:(0,i.L3)(function*(e,a){let{modelActionsLogger:r}=(0,i._$)(t);if(t.loadingState!==N.GuX.PENDING){t.id=e;try{t.loadingState=N.GuX.PENDING;let r=yield a.getArtist(e);r&&(t.meta=(0,i.wg)({artist:(0,S.dM)(r)})),t.loadingState!==N.GuX.IDLE&&(t.loadingState=N.GuX.RESOLVE)}catch(e){r.error(e),t.loadingState!==N.GuX.IDLE&&(t.loadingState=N.GuX.REJECT)}}}),reset(){t.id=null,t.loadingState=N.GuX.IDLE,t.trackIds.reset(),t.downloadedTracks.reset(),t.destroyItems([t.meta])}})),w=i.gK.compose(i.gK.model("ArtistPage",{id:i.gK.maybeNull(i.gK.string),meta:i.gK.maybeNull(d.G4),landing:n.Ju,popularTracks:i.gK.array(m.vj),lastRelease:i.gK.maybeNull(u.JC),upcomingAlbum:i.gK.maybeNull(u.VH),concerts:i.gK.maybeNull(i.gK.array(p.aR)),similarArtists:i.gK.array(S.PK),playlists:i.gK.array(c.IP),errorStatusCode:i.gK.maybeNull(i.gK.number),deprecationTargetArtistId:i.gK.maybeNull(i.gK.number),albums:i.gK.array(u.JC),discography:i.gK.array(u.JC),compilations:i.gK.array(u.JC),clips:i.gK.array(g.kv),artistPick:i.gK.maybeNull(L),familiarInfo:R,albumsSubpage:T,fullTracksListSubpage:P,concertsSubpage:G,similarArtistsSubPage:A,clipsSubpage:C,familiarSubpage:K,commonSubPage:h,offlineArtist:_,infoLoadingState:E.XT,infoErrorStatusCode:i.gK.maybeNull(i.gK.number)}),E.pl,E.XT).views(t=>{let e={get isLoading(){return t.isNeededToLoad||t.loadingState===N.GuX.PENDING},get hasPopularTracks(){return e.isLoading||t.popularTracks.length>0},get hasAlbums(){return e.isLoading||t.albums.length>0},get hasDiscography(){return e.isLoading||t.discography.length>0},get hasCompilations(){return e.isLoading||t.compilations.length>0},get hasSimilarArtists(){return e.isLoading||t.similarArtists.length>0},get hasPlaylists(){return e.isLoading||t.playlists&&t.playlists.length>0},get hasConcerts(){return e.isLoading||t.concerts&&t.concerts.length>0},get hasClips(){return e.isLoading||t.clips.length>0},get isNotFound(){return t.isRejected&&(t.errorStatusCode===l.X1.NOT_FOUND||t.errorStatusCode===l.X1.BAD_REQUEST)},get isInfoNotFound(){return t.infoLoadingState.isRejected&&(t.infoErrorStatusCode===l.X1.NOT_FOUND||t.infoErrorStatusCode===l.X1.BAD_REQUEST)},get isSomethingWentWrong(){return t.isRejected&&!e.isNotFound},get isInfoSomethingWentWrong(){return t.infoLoadingState.isRejected&&!e.isInfoNotFound},get isCacheNotFound(){return t.isRejected&&t.errorStatusCode===o.FX},get hasReleaseBlock(){return!!(e.isLoading||t.upcomingAlbum||t.lastRelease)},get selfLink(){if(!t.id)return"";let{href:e}=(0,N.uvd)("/artist/:artistId",{params:{artistId:t.id}});return e},get tracksUrl(){if(!t.id)return"";let{href:e}=(0,N.uvd)("/artist/:artistId/tracks",{params:{artistId:t.id}});return e},get concertsUrl(){var a;if((null==(a=t.meta)?void 0:a.artist.id)&&t.concerts&&t.concerts.length>d.M$){let{href:e}=(0,N.uvd)("/artist/:artistId/concerts",{params:{artistId:t.meta.artist.id}});return e}return""},get clipsUrl(){if(!t.id)return"";let{href:e}=(0,N.uvd)("/artist/:artistId/videos",{params:{artistId:t.id}});return e},get compilationsUrl(){if(!t.id)return"";let{href:e}=(0,N.uvd)("/artist/:artistId/compilations",{params:{artistId:t.id}});return e},get discographyUrl(){if(!t.id)return"";let{href:e}=(0,N.uvd)("/artist/:artistId/discography",{params:{artistId:t.id}});return e},get albumsUrl(){if(!t.id)return"";let{href:e}=(0,N.uvd)("/artist/:artistId/albums",{params:{artistId:t.id}});return e},get similarArtistsUrl(){if(!t.id)return"";let{href:e}=(0,N.uvd)("/artist/:artistId/similar",{params:{artistId:t.id}});return e}};return e}).actions(t=>({getData:(0,i.L3)(function*(e){let{artistId:a,preloadedArtist:o}=e,{slides:n,experiments:g,disclaimer:E}=(0,i.Zn)(t),{artistsResource:v,modelActionsLogger:X}=(0,i._$)(t),I=g.checkExperiment(N.zal.WebNextAgentArtist,"on");if(t.id=a,t.loadingState!==N.GuX.PENDING)try{var T,C,G,D;t.loadingState=N.GuX.PENDING;let e=o;e||(e=yield v.getBriefInfo({artistId:a,popularTracksCount:d.xx,fetchPlaylistLikesCounts:!0,discographyBlockEnabled:!0,useClipDataFormat:!0}));let{popularTracks:X,error:K,artist:f,stats:L,albums:A,playlists:h,alsoAlbums:R,similarArtists:k,lastReleases:P,concerts:O,upcomingAlbum:U,discography:_,artistPick:w,clips:F,allCovers:B}=e;if("not-found"===K||(null==f?void 0:f.error)==="not-found"){t.errorStatusCode=l.X1.NOT_FOUND,t.loadingState=N.GuX.REJECT;return}if(null==(T=f.deprecation)?void 0:T.targetArtistId){t.deprecationTargetArtistId=f.deprecation.targetArtistId,t.loadingState=N.GuX.RESOLVE;return}t.commonSubPage.artistName=f.name,g.checkExperiment(N.zal.WebNextArtistSkeletonHeader,"on")||(t.meta=(0,i.wg)(((t,e,a)=>{var l;let s=null==(l=t.extraActions)?void 0:l.find(t=>t.type===r.DONATION&&y(t.url));return(0,i.wg)({artist:(0,S.dM)(t),donationUrl:null==s?void 0:s.url,lastMonthListeners:null==e?void 0:e.lastMonthListeners,covers:null==a?void 0:a.map(t=>t.uri)})})(f,L,B)));let J=(null!=(C=f.disclaimers)?C:[]).includes(s.M.MODAL),M=(null!=(G=f.disclaimers)?G:[]).includes(s.M.FOREIGN_AGENT),V=((0,N.bRW)(null!=(D=f.disclaimers)?D:[],s.M.FOREIGN_AGENT)||[])[0];if((!f.available&&J||I&&M||V)&&(yield E.getDisclaimerData({entityId:a,entityType:N.nPY.ARTIST,disclaimerId:null==V?void 0:V.id})),P&&P.length>0){let e=P[0];e&&A&&A.length>1&&(t.lastRelease=(0,i.wg)((0,u.pp)(e)))}U&&(t.upcomingAlbum=(0,i.wg)((0,u.lO)(U))),O&&(t.concerts=(0,i.wg)(O.map(p.oP))),X&&X.length>0&&(t.popularTracks=(0,i.wg)(X.slice(0,d.xx).map(t=>(0,m.vU)(t)))),k&&k.length>0&&(t.similarArtists=(0,i.wg)(k.slice(0,d.dg).map(S.dM))),Number(null==A?void 0:A.length)>0&&(t.albums=(0,i.wg)(null==A?void 0:A.map(u.pp))),Number(null==_?void 0:_.length)>0&&(t.discography=(0,i.wg)(null==_?void 0:_.map(u.pp).slice(0,d.vx))),Number(null==R?void 0:R.length)>0&&(t.compilations=(0,i.wg)(null==R?void 0:R.map(u.pp).slice(0,d.vx))),h&&h.length>0&&(t.playlists=(0,i.wg)(h.map(c.ZC).slice(0,d.vx))),w&&(t.artistPick=(t=>{let e=t.artists.map(t=>(0,S.as)({artist:t}));return(0,i.wg)({playlist:(0,c.bk)({playlist:t.playlist}),artists:e})})(w)),F&&(t.clips=(0,i.wg)(F.map(b).slice(0,d.eS))),n.resetArtist(),t.loadingState!==N.GuX.IDLE&&(t.loadingState=N.GuX.RESOLVE)}catch(e){X.error(e),e instanceof l.GX&&(t.errorStatusCode=e.statusCode),t.loadingState!==N.GuX.IDLE&&(t.loadingState=N.GuX.REJECT)}}),getInfo:(0,i.L3)(function*(e){let{artistId:a}=e,{experiments:r,disclaimer:o}=(0,i.Zn)(t),{artistsResource:n,modelActionsLogger:u}=(0,i._$)(t),g=r.checkExperiment(N.zal.WebNextAgentArtist,"on");if(t.id=a,t.infoLoadingState.loadingState!==N.GuX.PENDING)try{var c,m,p,E,v;t.infoLoadingState.loadingState=N.GuX.PENDING;let e=yield n.getInfo({artistId:a}),{artist:r,deprecation:l}=e;if(null==l?void 0:l.targetArtistId){t.deprecationTargetArtistId=l.targetArtistId,t.loadingState=N.GuX.RESOLVE;return}t.commonSubPage.artistName=r.name,t.meta=(0,i.wg)((0,i.wg)({artist:(0,S.as)({artist:e.artist,trailer:e.trailer,isComposer:e.artistType===X.o.COMPOSER}),donationUrl:y(null==(m=e.donation)?void 0:m.tipUrl)?null==(p=e.donation)?void 0:p.tipUrl:void 0,lastMonthListeners:null==(E=e.stats)?void 0:E.lastMonthListeners,brandedButton:e.brandedButton?(0,d.LH)(e.brandedButton):void 0,covers:null==(v=e.covers)?void 0:v.map(t=>{var e;return null!=(e=t.uri)?e:""})}));let{disclaimers:u,available:b}=null!=(c=r.contentRestrictions)?c:{},I=(null!=u?u:[]).includes(s.M.MODAL),T=(null!=u?u:[]).includes(s.M.FOREIGN_AGENT),C=((0,N.bRW)(null!=u?u:[],s.M.FOREIGN_AGENT)||[])[0];(!b&&I||g&&T||C)&&(yield o.getDisclaimerData({entityId:a,entityType:N.nPY.ARTIST,disclaimerId:null==C?void 0:C.id})),t.infoLoadingState.loadingState!==N.GuX.IDLE&&(t.infoLoadingState.loadingState=N.GuX.RESOLVE)}catch(e){u.error(e),e instanceof l.GX&&(t.infoErrorStatusCode=e.statusCode),t.infoLoadingState.loadingState!==N.GuX.IDLE&&(t.infoLoadingState.loadingState=N.GuX.REJECT)}}),reset(){t.loadingState=N.GuX.IDLE,t.infoLoadingState.loadingState=N.GuX.IDLE,t.landing.reset(),t.id=null,t.errorStatusCode=null,t.deprecationTargetArtistId=null,t.destroyItems([t.clips,t.popularTracks,t.similarArtists,t.playlists,t.albums,t.discography,t.compilations,t.meta,t.lastRelease,t.upcomingAlbum,t.concerts,t.artistPick])}}));var F=a(50214),B=a(2662),J=a(23549),M=a(93396);a(80777);var V=a(35878),j=a(90342),q=a(51112)}}]);